

Redis-是一个开源的、C语言开发的、可内存可持久化的、基于key-value的非关系型高性能数据库（NoSQL）。











#### 内存、运存、磁盘

**内存/运存** ---实际上指的是内部存储器(RAM)，运存是移动设备对内存的一个俗称，也是由于消费者将磁盘和内存都简称为内存，专业人士为了避免误会，就创造了一个新词叫运存。如平时说的内存条.....

**磁盘** ---指的是内置存储空间（ROM）,如ssd,机械硬盘，sd卡，移动硬盘....

#### Redis数据存储

为什么redis读写速度表现优异呢？最重要的原因之一就是，redis的数据是放在内存当中的，而比如mysql，的数据都是放在磁盘中的。

#### cpu的作用

中央处理器（CPU，Central Processing Unit）是一块超大规模的集成电路，是一台计算机的运算核心（Core）和控制核心（ Control Unit）。它的功能主要是解释计算机指令以及处理计算机软件中的数据。

中央处理器主要包括运算器（算术逻辑运算单元，ALU，Arithmetic Logic Unit）和高速缓冲存储器（Cache）及实现它们之间联系的数据（Data）、控制及状态的总线（Bus）。它与内部存储器（Memory）和输入/输出（I/O）设备合称为电子计算机三大核心部件。



#### 为什么Redis是单线程的并且如此之快

* 纯内存（最主要的原因）
* 非阻塞IO (epoll)
* 避免线程切换

#### 怎么理解“因为redis是在内存中工作的,cpu不是其瓶颈”

* IO密集型应用：主要是进行IO操作，执行IO操作的时间较长，这是cpu出于空闲状态，导致cpu的利用率不高

* CPU密集型应用：主要是执行计算任务，响应时间很快，cpu一直在运行，这种任务cpu的利用率很高

#### CPU密集型 vs IO密集型

​	计算密集型任务的特点是要进行大量的计算，消耗CPU资源，比如计算圆周率、对视频进行高清解码等等，全靠CPU的运算能力。这种计算密集型任务虽然也可以用多任务完成，但是任务越多，花在任务切换的时间就越多，CPU执行任务的效率就越低，所以，要最高效地利用CPU，计算密集型任务同时进行的数量应当等于CPU的核心数。

​	计算密集型任务由于主要消耗CPU资源，因此，代码运行效率至关重要。Python这样的脚本语言运行效率很低，完全不适合计算密集型任务。对于计算密集型任务，最好用C语言编写。

​	第二种任务的类型是IO密集型，涉及到网络、磁盘IO的任务都是IO密集型任务，这类任务的特点是CPU消耗很少，任务的大部分时间都在等待IO操作完成（因为IO的速度远远低于CPU和内存的速度）。对于IO密集型任务，任务越多，CPU效率越高，但也有一个限度。常见的大部分任务都是IO密集型任务，比如Web应用。

​	IO密集型任务执行期间，99%的时间都花在IO上，花在CPU上的时间很少，因此，用运行速度极快的C语言替换用Python这样运行速度极低的脚本语言，完全无法提升运行效率。对于IO密集型任务，最合适的语言就是开发效率最高（代码量最少）的语言，脚本语言是首选，C语言最差。

总之，计算密集型程序适合C语言多线程，I/O密集型适合脚本语言开发的多线程。





















