#### 什么是索引

索引定义：索引是一种排序和快速查找的数据结构。

索引对where （where condition）和order by (field)  还有group by【 条件筛选和排序查找】起作用

del_flag可以保持索引连续性

update慢也可能是索引过多导致的

mysql中支持hash和btree索引。innodb和myisam只支持btree索引，而memory和heap存储引擎可以支持hash和btree索引

#### 什么情况下适合建索引，哪些情况不适合建索引

* 经常增删改的字段不建
* 数据量少于百万就没必要
* 如果某个数据列包含很多重复内容，就没必要建
  * 例如：加入一个表有300万行记录，有一个字段A只有ture和false 两个值，且每个值的分布概率大约50%，那么对A建索引一般不会提交高数据库的查询速度
  * 索引的选择性是指索引列中不同值的数目与表中记录数的比。如果一个表有200万条记录，表索引列有190万种情况，那么选择性就是190/200=95%,一个索引的选择性越接近1.那么效率就越高

#### 索引的性能分析

* MySQL Query Optimizer(查询优化器)：
* 常见瓶颈
  * CPU
  * IO
  * 配置或者硬件（例如缓冲区设置小了）

* explain +sql





